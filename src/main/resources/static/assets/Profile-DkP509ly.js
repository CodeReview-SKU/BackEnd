import{_ as x,r as u,u as L,o as z,c as l,d as c,e,t as n,k as d,F as m,f as _,j as r,n as f,p as A,q as j}from"./index-BZ1lB6vw.js";const a=h=>(A("data-v-f0d2ecf7"),h=h(),j(),h),P={class:"container mt-5 mb-5"},M={class:"card"},D=a(()=>e("div",{class:"card-header bg-secondary text-white"}," 내 프로필 ",-1)),F={class:"card-body"},N={class:"row"},T={class:"col-md-4"},V=a(()=>e("img",{src:"https://via.placeholder.com/150",alt:"프로필 이미지",class:"img-fluid rounded-circle mb-3"},null,-1)),q={class:"col-md-8"},E=a(()=>e("h5",null,"기본 정보",-1)),R={class:"list-group"},G={class:"list-group-item"},H=a(()=>e("strong",null,"이름:",-1)),J={class:"list-group-item"},K=a(()=>e("strong",null,"소셜 로그인:",-1)),O=a(()=>e("h5",{class:"mt-3"},"작성한 글",-1)),Q=["onClick"],U=["onClick"],W=a(()=>e("h5",{class:"mt-5"},"작성한 댓글",-1)),X={class:"list-group-item d-flex justify-content-between"},Y=["onClick"],Z=a(()=>e("h5",{class:"mt-5"},"좋아요 누른 글",-1)),tt=["onClick"],et={__name:"Profile",setup(h){const i=u({}),p=u([]),v=u([]),k=u([]),I=L();function b(o){I.push({path:`/detail/${o}`})}const S=()=>{const o=sessionStorage.getItem("name"),s=sessionStorage.getItem("token");r.get(`http://localhost:8080/member/detail/${o}`,{headers:{Authorization:"Bearer "+s}}).then(t=>{i.value=t.data,console.log(i.value)}).catch(t=>{console.log(t)})},w=()=>{const o=sessionStorage.getItem("token"),s=sessionStorage.getItem("name");r.get(`http://localhost:8080/bookmark/list/${s}`,{headers:{Authorization:"Bearer "+o}}).then(t=>{k.value=t.data,console.log(t.data)}).catch(t=>{console.log(t)})},y=()=>{const o=sessionStorage.getItem("name"),s=sessionStorage.getItem("token");r.get(`http://localhost:8080/board/list/${o}`,{headers:{Authorization:"Bearer "+s}}).then(t=>{p.value=t.data,console.log(t.data)}).catch(t=>{console.log(t)})},B=()=>{const o=sessionStorage.getItem("name"),s=sessionStorage.getItem("token");r.get(`http://localhost:8080/comment/member/${o}`,{headers:{Authorization:"Bearer "+s}}).then(t=>{console.log(t.data),v.value=t.data}).catch(t=>{console.log(t)})},$=o=>{const s=sessionStorage.getItem("token");r.delete(`http://localhost:8080/board/delete/${o}`,{headers:{Authorization:"Bearer "+s}}).then(t=>{alert("게시물이 삭제 되었습니다."),window.location.reload()}).catch(t=>{console.log(t)})},C=o=>{const s=sessionStorage.getItem("token");r.delete(`http://localhost:8080/comment/delete/${o}`,{headers:{Authorization:"Bearer "+s}}).then(t=>{alert("댓글이 삭제 되었습니다."),window.location.reload()}).catch(t=>{console.log(t)})};return z(()=>{S(),y(),B(),w()}),(o,s)=>(l(),c("div",P,[e("div",M,[D,e("div",F,[e("div",N,[e("div",T,[V,e("h4",null,n(i.value.name),1)]),e("div",q,[E,e("ul",R,[e("li",G,[H,d(" "+n(i.value.name),1)]),e("li",J,[K,d(" "+n(i.value.accountProvider?i.value.accountProvider:"없음"),1)])]),O,(l(!0),c(m,null,_(p.value,t=>(l(),c("ul",{class:"list-group",key:t.id},[e("li",{class:"list-group-item link-offset-1-hover d-flex justify-content-between",onClick:g=>b(t.id)},[e("strong",null,n(t.title),1),d(n(t.content)+" ",1),e("button",{class:"badge bg-secondary",onClick:f(g=>$(t.id),["stop"])},"삭제",8,U)],8,Q)]))),128)),W,(l(!0),c(m,null,_(v.value,t=>(l(),c("ul",{class:"list-group",key:t.id},[e("li",X,[e("strong",null,n(t.board.title),1),d(" "+n(t.content)+" ",1),e("button",{class:"badge bg-secondary",onClick:f(g=>C(t.id),["stop"])},"삭제",8,Y)])]))),128)),Z,(l(!0),c(m,null,_(k.value,t=>(l(),c("ul",{class:"list-group",key:t.id},[e("li",{class:"list-group-item d-flex justify-content-between",onClick:g=>b(t.board.id)},[e("strong",null,n(t.board.title),1),d(" "+n(t.board.content)+" "+n(),1)],8,tt)]))),128))])])])])]))}},st=x(et,[["__scopeId","data-v-f0d2ecf7"]]);export{st as default};
