import{_ as x,r as g,u as L,o as z,c,d as l,e as t,t as n,k as d,F as m,f as _,j as r,n as f,p as A,q as j}from"./index-BNQoJ6cr.js";const a=u=>(A("data-v-17dad508"),u=u(),j(),u),P={class:"container mt-5 mb-5"},M={class:"card"},D=a(()=>t("div",{class:"card-header bg-secondary text-white"}," 내 프로필 ",-1)),F={class:"card-body"},N={class:"row"},T={class:"col-md-4"},V=a(()=>t("img",{src:"https://via.placeholder.com/150",alt:"프로필 이미지",class:"img-fluid rounded-circle mb-3"},null,-1)),q={class:"col-md-8"},E=a(()=>t("h5",null,"기본 정보",-1)),R={class:"list-group"},G={class:"list-group-item"},H=a(()=>t("strong",null,"이름:",-1)),J={class:"list-group-item"},K=a(()=>t("strong",null,"소셜 로그인:",-1)),O=a(()=>t("h5",{class:"mt-3"},"작성한 글",-1)),Q=["onClick"],U=["onClick"],W=a(()=>t("h5",{class:"mt-5"},"작성한 댓글",-1)),X={class:"list-group-item d-flex justify-content-between"},Y=["onClick"],Z=a(()=>t("h5",{class:"mt-5"},"좋아요 누른 글",-1)),ee=["onClick"],te={__name:"Profile",setup(u){const i=g({}),p=g([]),v=g([]),k=g([]),I=L();function b(o){I.push({path:`/detail/${o}`})}const S=()=>{const o=sessionStorage.getItem("name"),s=sessionStorage.getItem("token");r.get(`/api/member/detail/${o}`,{headers:{Authorization:"Bearer "+s}}).then(e=>{i.value=e.data,console.log(i.value)}).catch(e=>{console.log(e)})},w=()=>{const o=sessionStorage.getItem("token"),s=sessionStorage.getItem("name");r.get(`/api/bookmark/list/${s}`,{headers:{Authorization:"Bearer "+o}}).then(e=>{k.value=e.data,console.log(e.data)}).catch(e=>{console.log(e)})},y=()=>{const o=sessionStorage.getItem("name"),s=sessionStorage.getItem("token");r.get(`/api/board/list/${o}`,{headers:{Authorization:"Bearer "+s}}).then(e=>{p.value=e.data,console.log(e.data)}).catch(e=>{console.log(e)})},B=()=>{const o=sessionStorage.getItem("name"),s=sessionStorage.getItem("token");r.get(`/api/comment/member/${o}`,{headers:{Authorization:"Bearer "+s}}).then(e=>{console.log(e.data),v.value=e.data}).catch(e=>{console.log(e)})},$=o=>{const s=sessionStorage.getItem("token");r.delete(`/api/board/delete/${o}`,{headers:{Authorization:"Bearer "+s}}).then(e=>{alert("게시물이 삭제 되었습니다."),window.location.reload()}).catch(e=>{console.log(e)})},C=o=>{const s=sessionStorage.getItem("token");r.delete(`/api/comment/delete/${o}`,{headers:{Authorization:"Bearer "+s}}).then(e=>{alert("댓글이 삭제 되었습니다."),window.location.reload()}).catch(e=>{console.log(e)})};return z(()=>{S(),y(),B(),w()}),(o,s)=>(c(),l("div",P,[t("div",M,[D,t("div",F,[t("div",N,[t("div",T,[V,t("h4",null,n(i.value.name),1)]),t("div",q,[E,t("ul",R,[t("li",G,[H,d(" "+n(i.value.name),1)]),t("li",J,[K,d(" "+n(i.value.accountProvider?i.value.accountProvider:"없음"),1)])]),O,(c(!0),l(m,null,_(p.value,e=>(c(),l("ul",{class:"list-group",key:e.id},[t("li",{class:"list-group-item link-offset-1-hover d-flex justify-content-between",onClick:h=>b(e.id)},[t("strong",null,n(e.title),1),d(n(e.content)+" ",1),t("button",{class:"badge bg-secondary",onClick:f(h=>$(e.id),["stop"])},"삭제",8,U)],8,Q)]))),128)),W,(c(!0),l(m,null,_(v.value,e=>(c(),l("ul",{class:"list-group",key:e.id},[t("li",X,[t("strong",null,n(e.board.title),1),d(" "+n(e.content)+" ",1),t("button",{class:"badge bg-secondary",onClick:f(h=>C(e.id),["stop"])},"삭제",8,Y)])]))),128)),Z,(c(!0),l(m,null,_(k.value,e=>(c(),l("ul",{class:"list-group",key:e.id},[t("li",{class:"list-group-item d-flex justify-content-between",onClick:h=>b(e.board.id)},[t("strong",null,n(e.board.title),1),d(" "+n(e.board.content)+" "+n(),1)],8,ee)]))),128))])])])])]))}},se=x(te,[["__scopeId","data-v-17dad508"]]);export{se as default};
